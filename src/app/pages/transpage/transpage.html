<header>
  <link
    rel="stylesheet"
    href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined"
  />
  <link
    rel="stylesheet"
    href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@24,400,0,0&icon_names=edit"
  />
</header>
<app-header></app-header>
<div class="profile-container" *ngIf="errorMessage">
  <p>{{ errorMessage }}...</p>
</div>
<div class="profile-container" *ngIf="userGetRes && !isLoading">
  <div class="base-container">
    <div class="set-profileBox">
      <div class="frame-profile">
        <div class="set-circle">
          <img [src]="userGetRes.profile_image" class="set-image" />
        </div>
      </div>
      <a [routerLink]="['/user/edit-profile', userGetRes.user_id]" class="edit-profile">
        <span class="material-symbols-outlined"> edit </span>
      </a>

      <p class="set-name">{{ userGetRes.username }}</p>
      <p class="set-email">{{ userGetRes.email }}</p>
      <div class="set-moneyBox">
        <p class="set-textmoney">ยอดคงเหลือ</p>
        <p class="set-number">{{ userGetRes.wallet_balance }}</p>
      </div>
      <div>
        <div class="set-menu-profile">
          <a [routerLink]="['/user/profile', userGetRes.user_id]" class="set-menu-detail">
            <span class="material-symbols-outlined"></span>
            <!-- sports_esports -->
            <p>คลังเกมของฉัน</p>
          </a>
          <hr class="set-hr" />
          <div></div>
          <a [routerLink]="['/user/transpage', userGetRes.user_id]" class="set-menu-detail">
            <span class="material-symbols-outlined"></span>
            <!--compare_arrows-->
            <p>ประวัติการทำรายการ</p>
          </a>
          <hr class="set-hr" />
          <a [routerLink]="['/user/edit-profile', userGetRes.user_id]" class="set-menu-detail">
            <span class="material-symbols-outlined"></span>
            <!-- edit -->
            <p>แก้ไขโปรไฟล์</p>
          </a>
          <hr class="set-hr" />
        </div>
        <div class="center-btn">
          <button class="set-logout-btn" (click)="onLogout()">ออกจากระบบ</button>
        </div>
      </div>
    </div>
    <div class="set-column">
         <main class="main-content">
        <h1>ประวัติการทำรายการ</h1>

        <div class="filter-tabs">
          <button class="tab-button active">รายการทั้งหมด</button>
          <button class="tab-button">รายการเติมเงิน</button>
          <button class="tab-button">รายการซื้อเกม</button>
        </div>

        <div class="transaction-list">
          
          <div class="transaction-item" *ngFor="let mytrans of trans">
            <div class="item-details">
              <p class="item-name">{{mytrans.statements}}</p>
              <p class="item-date">{{mytrans.trans_date | date: 'dd/MM/yyyy' }}</p>
            </div>
           <div class="item-amount" [ngClass]="{ 'credit': mytrans.type === 1, 'debit': mytrans.type === 0}">
          {{ mytrans.type === 1 ? '+' : '-' }}{{ mytrans.price | number:'1.2-2' }}
          </div>
          </div>
          
        </div>
      </main>
      
      
      </div>
    </div>
  </div>

